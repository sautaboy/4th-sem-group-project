<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="/stylesheets/style.css">
    <link rel="stylesheet" href="/stylesheets/semister.css">
</head>

<body>
    <% include header.ejs %>


        <div id="content-body">
            <div class="quick-links">
                <h2>
                    Qucik Links
                </h2>
                <a href="#<%= semisterContent.subOne %>">
                    <%= semisterContent.subOne %>
                </a>
                <a href="#<%= semisterContent.subTwo %>">
                    <%= semisterContent.subTwo %>

                </a>
                <a href="#<%= semisterContent.subThree %>">
                    <%= semisterContent.subThree %>

                </a>
                <a href="#<%= semisterContent.subFour %>">
                    <%= semisterContent.subFour %>

                </a>
                <a href="#<%= semisterContent.subFive %>">
                    <%= semisterContent.subFive %>

                </a>

            </div>


            <div id="content-container">


                <div class="content" id="<%= semisterContent.subOne %>">
                    <div class="notes-container">
                        <h2>
                            <%= semisterContent.subOne %>
                        </h2>
                        <iframe src="/notes/<%= semisterContent.pdfUrl %>" frameborder="0"></iframe>

                        </iframe>
                        <div class="book-mark-section">
                            <% if (isAuthenticated) { %>
                                <p>You can see your bookmarks on your profile.</p>
                                <i class="ri-bookmark-line bookmark-button"
                                    id="bookmarkButton<%= semisterContent.subOne %>"></i>
                                <% } else { %>
                                    <p>You have to be logged in to bookmark the notes.</p>
                                    <% } %>
                        </div>

                    </div>
                </div>



                <div class="content" id="<%= semisterContent.subTwo %>">
                    <div class="notes-container">
                        <h2>
                            <%= semisterContent.subTwo %>
                        </h2>
                        <iframe src="/notes/<%= semisterContent.pdfUrl %>" frameborder="0"></iframe>

                        </iframe>
                        <div class="book-mark-section">
                            <% if (isAuthenticated) { %>
                                <p>You can see your bookmarks on your profile.</p>
                                <i class="ri-bookmark-line bookmark-button"
                                    id="bookmarkButton<%= semisterContent.subTwo %>"></i>
                                <% } else { %>
                                    <p>You have to be logged in to bookmark the notes.</p>
                                    <% } %>
                        </div>

                    </div>
                </div>



                <div class="content" id="<%= semisterContent.subThree %>">
                    <div class="notes-container">
                        <h2>
                            <%= semisterContent.subThree %>
                        </h2>
                        <iframe src="/notes/<%= semisterContent.pdfUrl %>" frameborder="0"></iframe>

                        </iframe>
                        <div class="book-mark-section">
                            <% if (isAuthenticated) { %>
                                <p>You can see your bookmarks on your profile.</p>
                                <i class="ri-bookmark-line bookmark-button"
                                    id="bookmarkButton<%= semisterContent.subThree %>"></i>
                                <% } else { %>
                                    <p>You have to be logged in to bookmark the notes.</p>
                                    <% } %>
                        </div>

                    </div>
                </div>



                <div class="content" id="<%= semisterContent.subFour %>">
                    <div class="notes-container">
                        <h2>
                            <%= semisterContent.subFour %>
                        </h2>
                        <iframe src="/notes/<%= semisterContent.pdfUrl %>" frameborder="0"></iframe>

                        </iframe>
                        <div class="book-mark-section">
                            <% if (isAuthenticated) { %>
                                <p>You can see your bookmarks on your profile.</p>
                                <i class="ri-bookmark-line bookmark-button"
                                    id="bookmarkButton<%= semisterContent.subFour %>"></i>
                                <% } else { %>
                                    <p>You have to be logged in to bookmark the notes.</p>
                                    <% } %>
                        </div>

                    </div>
                </div>



                <div class="content" id="<%= semisterContent.subFive %>">
                    <div class="notes-container">
                        <h2>
                            <%= semisterContent.subFive %>
                        </h2>
                        <iframe src="/notes/<%= semisterContent.pdfUrl %>" frameborder="0"></iframe>

                        </iframe>
                        <div class="book-mark-section">
                            <% if (isAuthenticated) { %>
                                <p>You can see your bookmarks on your profile.</p>
                                <i class="ri-bookmark-line bookmark-button"
                                    id="bookmarkButton<%= semisterContent.subFive %>"></i>
                                <% } else { %>
                                    <p>You have to be logged in to bookmark the notes.</p>
                                    <% } %>
                        </div>

                    </div>
                </div>
            </div>


        </div>

        <% include footer.ejs%>


            <!-- Other HTML content above -->

            <!-- Other HTML content above -->

            <script>
                document.addEventListener('DOMContentLoaded', function () {
                    // Get all bookmark buttons by class name
                    const bookmarkButtons = document.querySelectorAll('.bookmark-button');

                    // Add an event listener to each bookmark button
                    bookmarkButtons.forEach(button => {
                        button.addEventListener('click', function (e) {
                            // Implement bookmark logic here
                            // You might want to make an AJAX request to your server to handle the bookmark action
                            // Example: Fetch API

                            // Extract subject title and URL from the button's id
                            const subjectTitle = button.id.replace('bookmarkButton', ''); // Remove 'bookmarkButton' prefix
                            const subjectUrl = '/usernotes/<%= semisterContent.pdfUrl %>';

                            fetch('/bookmark', {
                                method: 'POST',
                                headers: {
                                    'Content-Type': 'application/json',
                                },
                                body: JSON.stringify({
                                    title: subjectTitle,
                                    url: subjectUrl,
                                }),
                            })
                                .then(response => {
                                    if (response.ok) {
                                        console.log('Subject bookmarked successfully');
                                    } else {
                                        console.error('Failed to bookmark subject');
                                    }
                                })
                                .catch(error => {
                                    console.error('Error bookmarking subject:', error);
                                });

                            e.target.classList.remove("ri-bookmark-line")
                            e.target.classList.add("ri-bookmark-fill")
                        });
                    });
                });
            </script>

            <!-- Other HTML content below -->


            <!-- Other HTML content below -->

</body>

</html>